% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/utilities.R
\name{utilities}
\alias{utilities}
\alias{get_file_list}
\alias{get_file_list_mem}
\alias{get_project_number}
\alias{get_project_name}
\alias{html_table_to_df}
\alias{login_check}
\alias{project_check}
\alias{scrape_file_urls}
\alias{download_process}
\title{Internal functions used by \code{matos}}
\usage{
get_file_list(project_number, data_type, force = FALSE)

get_file_list_mem(project_number, data_type)

get_project_number(project_name, matos_projects = NULL)

get_project_name(project_number, matos_projects = NULL)

html_table_to_df(html_file_list)

login_check(url = "https://matos.asascience.com/report/submit")

project_check(project, return_projects = FALSE)

scrape_file_urls(html_file_list)

download_process(url, out_dir, overwrite, to_vue)
}
\arguments{
\item{project_number}{Number of the project}

\item{data_type}{one of "dataextractionfiles" or "projectfiles".}

\item{force}{Do you want to reset the cache and re-ping the database?
Defaults to false.}

\item{project_name}{Character string of the full MATOS project name. This will be the
big name in bold at the top of your project page, not the "Project Title"
below it. Will be coerced to all lower case, so capitalization doesn't matter.}

\item{matos_projects}{Data frame. Used to pass the MATOS project list from
\code{project_check}.}

\item{html_file_list}{Listed files in HTML form. Always the result of
\code{get_file_list}}

\item{url}{The (protected) URL that the overlapping function is trying to call.}

\item{project}{MATOS project ID. Can be the name or number of the project.}

\item{return_projects}{Logical. Do you want \code{project_check} to return the list
of projects? Used to not ping the website too much in one function call.}

\item{out_dir}{Character. To what directory would you like your files downloaded?
Defaults to the current working directory.}

\item{overwrite}{Logical. Do you want to overwrite existing files that have
the same name (\code{TRUE}) or protect yourself against doing this
(\code{FALSE}, the default)?}

\item{to_vue}{Logical. Should the data be converted to match that of VUE's
CSV export?}
}
\description{
Non-exported utility functions used by other functions in \code{matos}.
}
\section{Details}{

\code{get_file_list} checks to see if it should re-evaluate itself, then wraps
\code{get_file_list_mem} which is the actual workhorse.

\code{get_file_list_mem} memoised function which scrapes the HTML associated
with the project or data extraction files page provided with a given project.

\code{get_project_number} finds the internal MATOS number associated with each
project by scraping the HTML of the main MATOS projects page.

\code{get_project_name} finds the MATOS project name associated with the given
project number by scraping the HTML of the main MATOS projects page.

\code{html_table_to_df} converts the HTML table provided by \code{get_file_list}
into a R-usable data frame.

\code{login_check} pings protected URLs and calls \code{matos_login} when referred
to the login page.

\code{project_check}

\code{scrape_file_urls} is used internally by \code{html_table_to_df} to extract
the URLs associates with each "Download" link.

\code{download_process} is used internally by \code{get_project_file} and
\code{get_extract_file}
}

