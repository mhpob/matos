<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="matos">
<title>Data Push Summaries • matos</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Data Push Summaries">
<meta property="og:description" content="matos">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">matos</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.2.14</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/introduction.html">Introduction</a>
    <a class="dropdown-item" href="../articles/data-push-summaries.html">Data Push Summaries</a>
    <a class="dropdown-item" href="../articles/multiple-projects.html">`matos` for the power user</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/mhpob/matos/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Data Push Summaries</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/mhpob/matos/blob/HEAD/vignettes/data-push-summaries.Rmd" class="external-link"><code>vignettes/data-push-summaries.Rmd</code></a></small>
      <div class="d-none name"><code>data-push-summaries.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/mhpob/matos" class="external-link">matos</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; By continuing, you are agreeing to the ACT Network MATOS User Agreement and</span></span>
<span><span class="co">#&gt; Data Policy, Version 1.2:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; <span style="color: #0000BB; font-style: italic;">&lt;https://matos.asascience.com/static/MATOS.User.Agreement.V1.1.pdf&gt;</span></span></span>
<span><span class="co">#&gt; </span></span></code></pre></div>
<p>Oh, boy; oh, boy! Here it is: one of the <a href="https://members.oceantrack.org/faq#autotoc-item-autotoc-6" class="external-link">three
yearly data pushes</a> and <a href="mailto:east.coast.telemetry@gmail.com">Kim</a> has hit you with a
slew of automated emails to let you know that the data you’ve recorded
on your receivers has been matched to other projects in MATOS or one of
the other OTN nodes.</p>
<p>What now? What’s been updated? Who might I contact for more
information? Well, <code>make_receiver_push_summary</code> and
<code>make_tag_push_summary</code> are here to help.</p>
<div class="section level2">
<h2 id="act-members">ACT members<a class="anchor" aria-label="anchor" href="#act-members"></a>
</h2>
<p>If you’re an ACT member, the first thing you’ll want to do is list
the projects for which you have access.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/list_my_projects.html">list_my_projects</a></span><span class="op">(</span>read_access <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #BBBB00;">!</span> Please log in.</span></span>
<span><span class="co">#&gt; <span style="color: #00BB00;">✔</span> Login successful!</span></span>
<span><span class="co">#&gt;                                             name number</span></span>
<span><span class="co">#&gt; 32      Maryland Department of Natural Resources     90</span></span>
<span><span class="co">#&gt; 41              Navy Kennebec ME Telemetry Array    192</span></span>
<span><span class="co">#&gt; 45         NCBO-MD DNR Chesapeake Backbone North    181</span></span>
<span><span class="co">#&gt; 46           NCBO-VMRC Chesapeake Backbone South    164</span></span>
<span><span class="co">#&gt; 104 UMCES Black Sea Bass &amp; Offshore Construction     97</span></span>
<span><span class="co">#&gt; 105              UMCES BOEM Offshore Wind Energy     87</span></span>
<span><span class="co">#&gt; 106           UMCES Chesapeake Backbone, Mid-Bay    161</span></span>
<span><span class="co">#&gt; 107  UMCES Lower Hudson Striped Bass Contingents    155</span></span>
<span><span class="co">#&gt; 108   UMCES Potomac River Striped Bass Migration     60</span></span>
<span><span class="co">#&gt; 109 UMCES Resident Hudson Striped Bass Migration    160</span></span>
<span><span class="co">#&gt; 110           UMCES Striped Bass Thermal Squeeze    152</span></span>
<span><span class="co">#&gt; 111    UMCES-NYSDEC Hudson Striped Bass Spawning    127</span></span>
<span><span class="co">#&gt;                                                 url</span></span>
<span><span class="co">#&gt; 32   https://matos.asascience.com/project/detail/90</span></span>
<span><span class="co">#&gt; 41  https://matos.asascience.com/project/detail/192</span></span>
<span><span class="co">#&gt; 45  https://matos.asascience.com/project/detail/181</span></span>
<span><span class="co">#&gt; 46  https://matos.asascience.com/project/detail/164</span></span>
<span><span class="co">#&gt; 104  https://matos.asascience.com/project/detail/97</span></span>
<span><span class="co">#&gt; 105  https://matos.asascience.com/project/detail/87</span></span>
<span><span class="co">#&gt; 106 https://matos.asascience.com/project/detail/161</span></span>
<span><span class="co">#&gt; 107 https://matos.asascience.com/project/detail/155</span></span>
<span><span class="co">#&gt; 108  https://matos.asascience.com/project/detail/60</span></span>
<span><span class="co">#&gt; 109 https://matos.asascience.com/project/detail/160</span></span>
<span><span class="co">#&gt; 110 https://matos.asascience.com/project/detail/152</span></span>
<span><span class="co">#&gt; 111 https://matos.asascience.com/project/detail/127</span></span></code></pre></div>
<p>From here, you can just provide your project name or number and let
it rip. Below, I provide the number associated with “UMCES BOEM Offshore
Wind Energy”.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_receiver_push_summary.html">make_receiver_push_summary</a></span><span class="op">(</span><span class="fl">87</span><span class="op">)</span></span></code></pre></div>
<p>This function does a bit of data cleaning on the front end and then
runs everything through a <a href="https://quarto.org/" class="external-link">Quarto</a> or <a href="https://rmarkdown.rstudio.com/" class="external-link">RMarkdown</a> report. The
functions use Quarto by default, but RMarkdown will be selected if:</p>
<ol style="list-style-type: decimal">
<li>Quarto is not installed on the computer, or</li>
<li>the <code>rmd</code> argument is set to <code>TRUE</code>.</li>
</ol>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compiles with Quarto (default)</span></span>
<span><span class="fu"><a href="../reference/make_receiver_push_summary.html">make_receiver_push_summary</a></span><span class="op">(</span><span class="fl">87</span>, rmd <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Compiles with RMarkdown</span></span>
<span><span class="fu"><a href="../reference/make_receiver_push_summary.html">make_receiver_push_summary</a></span><span class="op">(</span><span class="fl">87</span>, rmd <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>Functionality is identical for
<code>make_tag_push_summary</code>:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_tag_push_summary.html">make_tag_push_summary</a></span><span class="op">(</span><span class="fl">87</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="other-otn-ites">Other OTN-ites<a class="anchor" aria-label="anchor" href="#other-otn-ites"></a>
</h2>
<p>If you are a member of OTN or an OTN node, such as <a href="https://secoora.org/fact/" class="external-link">FACT</a>, your data extract files are
compatible with <code>make_receiver_push_summary</code> and
<code>make_tag_push_summmary</code>. The only difference is that you’ll
have to manually provide your data files – <code>matos</code> is not set
up to download them for you.</p>
<p>We’ll use data from <a href="#references">Trudel 2018</a> (<a href="https://members.oceantrack.org/data/repository/pbsm" class="external-link uri">https://members.oceantrack.org/data/repository/pbsm</a>) to
show how this might work.</p>
<div class="section level3">
<h3 id="make_receiver_push_summary">
<code>make_receiver_push_summary</code><a class="anchor" aria-label="anchor" href="#make_receiver_push_summary"></a>
</h3>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create a folder in your temporary directory to hold the sample files</span></span>
<span><span class="va">td</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span>, <span class="st">'matos_test_files'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/files2.html" class="external-link">dir.create</a></span><span class="op">(</span><span class="va">td</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download deployment metadata</span></span>
<span><span class="co"># Note "mode = 'wb'! Needed to download the file in binary</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="st">'https://members.oceantrack.org/data/repository/pbsm/data-and-metadata/2018/pbsm-instrument-deployment-short-form-2018.xls'</span>,</span>
<span>              destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm-instrument-deployment-short-form-2018.xls'</span><span class="op">)</span>,</span>
<span>              mode <span class="op">=</span> <span class="st">'wb'</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download qualified detections</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="st">'https://members.oceantrack.org/data/repository/pbsm/detection-extracts/pbsm_qualified_detections_2018.zip'</span>,</span>
<span>              destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm_qualified_detections_2018.zip'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download unqualified detections</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="st">'https://members.oceantrack.org/data/repository/pbsm/detection-extracts/pbsm_unqualified_detections_2018.zip'</span>,</span>
<span>              destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm_unqualified_detections_2018.zip'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">qualified_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm_qualified_detections_2018.zip'</span><span class="op">)</span></span>
<span><span class="va">unqualified_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm_unqualified_detections_2018.zip'</span><span class="op">)</span></span>
<span><span class="va">deployment_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm-instrument-deployment-short-form-2018.xls'</span><span class="op">)</span></span></code></pre></div>
<p>When you have an ACT project, <code>matos</code> automatically uses
the most-recent data push date as a reference point to let you know what
has changed since the last time you’ve received new data. It doesn’t
know this for other networks, but you can provide a date via the
<code>since</code> argument.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_receiver_push_summary.html">make_receiver_push_summary</a></span><span class="op">(</span></span>
<span>  qualified <span class="op">=</span> <span class="va">qualified_filepath</span>,</span>
<span>  unqualified <span class="op">=</span> <span class="va">unqualified_filepath</span>,</span>
<span>  deployment <span class="op">=</span> <span class="va">deployment_filepath</span>,</span>
<span>  since <span class="op">=</span> <span class="st">'2018-05-06'</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>There you go – you now have a report of detections picked up by your
receiver array in your working directory!</p>
</div>
<div class="section level3">
<h3 id="make_tag_push_summary">
<code>make_tag_push_summary</code><a class="anchor" aria-label="anchor" href="#make_tag_push_summary"></a>
</h3>
<p>The same process applies to summarize your deployed transmitters.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/download.file.html" class="external-link">download.file</a></span><span class="op">(</span><span class="st">'https://members.oceantrack.org/data/repository/pbsm/detection-extracts/pbsm_matched_detections_2018.zip'</span>,</span>
<span>               destfile <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm_matched_detections_2018.zip'</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">matched_filepath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">td</span>, <span class="st">'pbsm_matched_detections_2018.zip'</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/make_tag_push_summary.html">make_tag_push_summary</a></span><span class="op">(</span>matched <span class="op">=</span> <span class="va">matched_filepath</span>,</span>
<span>                      since <span class="op">=</span> <span class="st">'2018-05-01'</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="suggestions">Suggestions<a class="anchor" aria-label="anchor" href="#suggestions"></a>
</h2>
<p>I am always open to suggestions on what could be added to change to
make this more useful for you. Please <a href="https://github.com/mhpob/matos/issues" class="external-link">open an issue on GitHub</a>
or <a href="mailto:obrien@umces.edu">email me</a> with your
thoughts.</p>
</div>
<div class="section level2">
<h2 id="errors-and-how-to-fix-them">Errors and how to fix them<a class="anchor" aria-label="anchor" href="#errors-and-how-to-fix-them"></a>
</h2>
<pre><code>Could not determine mime type for `~\Matcheddetections_layer.fgb'
Error: pandoc document conversion failed with error 63</code></pre>
<p>This error is created by an old version of the <a href="https://r-spatial.github.io/mapview/" class="external-link"><code>mapview</code>
package</a> (pre-June 2021) and has to do with the package’s switch to
using a <a href="https://pro.arcgis.com/en/pro-app/latest/help/data/geodatabases/manage-file-gdb/file-geodatabases.htm" class="external-link">file
geodatabase</a> to increase plotting performance. To fix this, you have
two options:</p>
<ol style="list-style-type: decimal">
<li>Update <code>mapview</code> (suggested), or</li>
<li>Run <code>mapviewOptions(fgb = FALSE)</code> before attempting to
run <code>make_receiver_push_summary</code> or
<code>make_tag_push_summary</code>. Note that this will make the report
build more slowly.</li>
</ol>
</div>
<div class="section level2">
<h2 id="references">References<a class="anchor" aria-label="anchor" href="#references"></a>
</h2>
<p>Trudel, Marc. “A Pilot Study to Investigate the Migration of Atlantic
Salmon Post-Smolts and Their Interactions with Aquaculture in
Passamaquoddy Bay, New Brunswick, Canada.” Ocean Tracking Network, 2018.
<a href="https://members.oceantrack.org/project?ccode=PBSM" class="external-link uri">https://members.oceantrack.org/project?ccode=PBSM</a>.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Mike O’Brien.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
